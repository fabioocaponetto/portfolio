<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sulle onde sbagliate - Projects Archive</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital@0;1&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../style.css">

    <style>

    </style>
</head>   
<body id="body-project">
    <div class="home-project">
        <div class="header">
            <span id="header-text">← BACK</span>
            <span>SULLE ONDE SBAGLIATE - © 2024</span>
        </div>

        <div class="titolo-progetto">
            <div>
              <span id="titolo-text-progetto">SULLE ONDE SBAGLIATE</span>
              <div id="nome-text-progetto">ESPERIENZA INTERATTIVA CHE INTENDE STIMOLARE UN DIALOGO CRITICO SULL'ABBONDANZA DELLE INFORMAZIONI DIGITALI</div>
            </div>
            <div id="credit-project">
              FABIO CAPONETTO - FRANCESCO LODOVICI - AMELIA MESSINA<br>
              EXHIBIT DESIGN LAB [2024] - INTERACTION AND EXPERIENCE DESIGN<br>
              UNIVERSITÀ DEGLI STUDI DELLA REPUBBLICA DI SAN MARINO
            </div>
        </div>

        <div class="copertina-progetto">
          <img src="../img/dettagli/sulleondesbagliate/copertina.gif" alt="">
        </div>
    </div>

    <div class="contenuti-project">
      <div id="img-project">
        <img src="../img/dettagli/sulleondesbagliate/citazionepapa.webp" alt="">
        <img src="../img/dettagli/sulleondesbagliate/intro.gif" alt="">
        <img src="../img/dettagli/sulleondesbagliate/foto.gif" alt="">
        <img src="../img/dettagli/sulleondesbagliate/villaperelli.webp" alt="">
        <img src="../img/dettagli/sulleondesbagliate/concept.gif" alt="" style="padding-top: 0;">
        <img src="../img/dettagli/sulleondesbagliate/modello3d.gif" alt="">
        <img src="../img/dettagli/sulleondesbagliate/exhibit.webp" alt="">
        <img src="../img/dettagli/sulleondesbagliate/entrata1.webp" alt="">
        <img src="../img/dettagli/sulleondesbagliate/entrata2.webp" alt="" style="padding-top: 0;">
        <img src="../img/dettagli/sulleondesbagliate/manifesto.webp" alt="">
        <img src="../img/dettagli/sulleondesbagliate/interazione1.webp" alt="">
        <img src="../img/dettagli/sulleondesbagliate/interazione2.webp" alt="" style="padding-top: 0;">
      </div>

      <div class="video-project" style="padding-top: 0;">
        <video src="../img/dettagli/sulleondesbagliate/installazione.mp4" controls loop playsinline></video>
      </div>

      <div id="img-project">
        <img src="../img/dettagli/sulleondesbagliate/vista villa.webp" alt="">
        <img src="../img/dettagli/sulleondesbagliate/uscita villa.webp" alt="" style="padding-top: 0;">
        <img src="../img/dettagli/sulleondesbagliate/experience journey.webp" alt="">
      </div>

      <div class="video-project">
        <video src="../img/dettagli/sulleondesbagliate/teaser.mp4" controls loop playsinline></video>
      </div>

      <div id="img-project">
        <img src="../img/dettagli/sulleondesbagliate/comunicazione2.webp" alt="">
        <img src="../img/dettagli/sulleondesbagliate/comunicazione1.webp" alt="" style="padding-top: 0;">
        <img src="../img/dettagli/sulleondesbagliate/allestimento.gif" alt="">
      </div>




      <div class="torna-su">
        <span>↑</span>
      </div>
    </div>







  <script>
    document.querySelector("#header-text").addEventListener("click", () => {
      window.location.href = "../index.html#progetti";
      console.log("sono tornato indietro");
    });

    document.addEventListener("DOMContentLoaded", () => {
      document.getElementById("body-project").style.backgroundColor = "#f7f7f7";

      const titolo = document.getElementById("titolo-text-progetto");
      titolo.style.backgroundColor = "#1a2b25";
      titolo.style.color = "white";
    });

    const videos = document.querySelectorAll(".video-project video");

      videos.forEach(video => {
        let hasPlayedOnce = false;
        let fadeInterval = null;

        function fadeVolume(targetVolume, callback) {
          clearInterval(fadeInterval);
          fadeInterval = setInterval(() => {
            const step = 0.05;
            if (Math.abs(video.volume - targetVolume) <= step) {
              video.volume = targetVolume;
              clearInterval(fadeInterval);
              if (callback) callback();
            } else {
              video.volume += (video.volume < targetVolume ? step : -step);
              video.volume = Math.max(0, Math.min(1, video.volume));
            }
          }, 75);
        }

        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              if (!hasPlayedOnce) {
                hasPlayedOnce = true;
                video.volume = 0;
                video.play();
                fadeVolume(1);
              } else {
                video.play();
                fadeVolume(1);
              }
            } else {
              fadeVolume(0, () => video.pause());
            }
          });
        }, {
          threshold: 0.2
        });

        observer.observe(video);
      });

    // Torna su logic
    const contenuti = document.querySelector('.contenuti-project');
    const tornaSu = document.querySelector('.torna-su');

    // Mostra il bottone quando contenuti-project tocca top:0
    window.addEventListener('scroll', () => {
      const rect = contenuti.getBoundingClientRect();
      if (rect.top <= 0) {
        tornaSu.classList.add('visible');
      } else {
        tornaSu.classList.remove('visible');
      }
    });

    // Scrolla in cima alla pagina al clic
    tornaSu.addEventListener('click', () => {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });

    document.querySelector(".torna-su").addEventListener('mouseenter', () => {
      document.querySelector(".torna-su").style.backgroundColor = "#1a2b25";
      document.querySelector(".torna-su").style.color = "white";
    });

    document.querySelector(".torna-su").addEventListener('mouseleave', () => {
      document.querySelector(".torna-su").style.backgroundColor = "#f7f7f7";
      document.querySelector(".torna-su").style.color = "black";
    });


  </script>
</body>
</html>
