<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Discover hobbies</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital@0;1&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../style.css">
</head>   
<body id="body-hobbies">
    <div class="header">
        <span id="header-text">INTERACTION DESIGN</span>
        <span>Â© 2025</span>
    </div>

    <div id="istr-video">
        <span>[HOLD DOWN "SPACEBAR" AND TURN ON SOUND]</span>
    </div>

    <video id="video-hobbies" src="../videos/animazione_hobbies.mp4" preload="auto" muted loop playsinline></video>
    <audio id="music-hobbies" src="../sound/musica_hobbies.mp3" loop></audio>
    
<script>
    const music = document.getElementById("music-hobbies");
    const video = document.getElementById("video-hobbies");
    const istrText = document.querySelector("#istr-video span");
    let spacePressed = false;

    const isTouchDevice = 'ontouchstart' in window || navigator.maxTouchPoints > 0;

    if (isTouchDevice) {
        // Cambia il testo per i dispositivi touch
        istrText.textContent = '["HOLD DOWN" TO PLAY VIDEO AND SOUND]';

        // Gestione touch
        document.addEventListener("touchstart", () => {
            video.play();
            music.play();
        });

        document.addEventListener("touchend", () => {
            video.pause();
            music.pause();
        });
    } else {
        // Gestione tastiera (desktop)
        document.addEventListener("keydown", (event) => {
            if (event.code === "Space" && !spacePressed) {
                event.preventDefault();
                spacePressed = true;
                video.play();
                music.play();
            }
        });

        document.addEventListener("keyup", (event) => {
            if (event.code === "Space") {
                spacePressed = false;
                video.pause();
                music.pause();
            }
        });
    }
</script>
</body>
</html>
